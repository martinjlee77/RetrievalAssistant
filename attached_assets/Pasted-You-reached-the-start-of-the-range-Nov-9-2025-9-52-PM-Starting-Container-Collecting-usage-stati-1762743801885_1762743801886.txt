You reached the start of the range
Nov 9, 2025, 9:52 PM
Starting Container
Collecting usage statistics. To deactivate, set browser.gatherUsageStats to false.
  You can now view your Streamlit app in your browser.
  URL: http://0.0.0.0:8080
INFO:__main__:Created new user session: c4af19f5...
INFO:__main__:üîç Page load - session_id: c4af19f5-08d6-4f38-88d4-74849e697749, session keys: ['auth_token', 'asc606_analysis_complete_c4af19f5-08d6-4f38-88d4-74849e697749', 'asc606_memo_data_c4af19f5-08d6-4f38-88d4-74849e697749', 'file_uploader_key', 'show_whats_new', 'user_data', 'user_session_id']
INFO:__main__:üîç Checking for memo: analysis_key=asc606_analysis_complete_c4af19f5-08d6-4f38-88d4-74849e697749, has_analysis_key=True, has_memo_key=True
INFO:asc606.clean_memo_generator:Displaying clean memo sample: '**MEMO ID:** 72\n\n<small><em>Disclaimer Version: v1.0 (Effective 08/23/2025)</em></small><br>\n<small><em>This memorandum was generated by VeritasLogic.'
INFO:asc606.clean_memo_generator:Generating PDF using ReportLab
INFO:shared.pdf_generator:Generating PDF using ReportLab
INFO:shared.pdf_generator:PDF generation successful: 23205 bytes
INFO:asc606.clean_memo_generator:PDF generation successful: 23205 bytes
INFO:__main__:üîç Page load - session_id: c4af19f5-08d6-4f38-88d4-74849e697749, session keys: ['auth_token', 'asc606_analysis_complete_c4af19f5-08d6-4f38-88d4-74849e697749', 'top_new_analysis_existing', 'asc606_memo_data_c4af19f5-08d6-4f38-88d4-74849e697749', 'bottom_new_analysis_existing', 'file_uploader_key', 'download_md_6585708014491997188', 'download_pdf_6585708014491997188', 'show_whats_new', 'user_data', 'copy_6585708014491997188', 'download_docx_6585708014491997188', 'user_session_id']
INFO:__main__:üîç Checking for memo: analysis_key=asc606_analysis_complete_c4af19f5-08d6-4f38-88d4-74849e697749, has_analysis_key=True, has_memo_key=True
INFO:__main__:üîç Page load - session_id: c4af19f5-08d6-4f38-88d4-74849e697749, session keys: ['auth_token', 'top_new_analysis_existing', 'skip_auto_load', 'file_uploader_key', 'show_whats_new', 'user_data', 'user_session_id']
INFO:__main__:üîç Checking for memo: analysis_key=asc606_analysis_complete_c4af19f5-08d6-4f38-88d4-74849e697749, has_analysis_key=False, has_memo_key=False
INFO:__main__:üîç Page load - session_id: c4af19f5-08d6-4f38-88d4-74849e697749, session keys: ['auth_token', 'skip_auto_load', 'file_uploader_key', 'asc606_analyze_disabled', 'show_whats_new', 'user_data', 'asc606_uploader_0', 'user_session_id']
INFO:__main__:üîç Checking for memo: analysis_key=asc606_analysis_complete_c4af19f5-08d6-4f38-88d4-74849e697749, has_analysis_key=False, has_memo_key=False
INFO:utils.document_extractor:üìÑ Processing document: gemini_sow - Copy.docx (0.02 MB)
INFO:utils.document_extractor:‚Üí Extracting text using DOCX extractor...
INFO:utils.document_extractor:‚úì Text extracted: 515 words (~2 pages) via python-docx
INFO:utils.document_extractor:üìÑ Processing document: gemini_sow - Copy.docx (0.02 MB)
INFO:utils.document_extractor:‚Üí Extracting text using DOCX extractor...
INFO:utils.document_extractor:‚úì Text extracted: 515 words (~2 pages) via python-docx
INFO:asc606.step_analyzer:ü§ñ Using GPT-4o for main analysis, GPT-4o-mini for light tasks
INFO:asc606.step_analyzer:üîí Extracting both party names for de-identification...
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
WARNING:shared.api_cost_tracker:Failed to get encoding for model gpt-4o-mini, using default: 'Could not automatically map gpt-4o-mini to a tokeniser. Please use `tiktok.get_encoding` to explicitly get the tokeniser you expect.'
WARNING:shared.api_cost_tracker:Failed to get encoding for model gpt-4o-mini, using default: 'Could not automatically map gpt-4o-mini to a tokeniser. Please use `tiktok.get_encoding` to explicitly get the tokeniser you expect.'
INFO:shared.api_cost_tracker:API Cost - Model: gpt-4o-mini, Input tokens: 924, Output tokens: 12, Cost: $0.0001
INFO:shared.api_cost_tracker:Tracked party_extraction request: $0.0001 (Total: $0.0001)
INFO:asc606.step_analyzer:Raw LLM response for party extraction: {"vendor": "Company", "customer": "Customer"}
INFO:asc606.step_analyzer:‚úì Parties extracted - Vendor: Company, Customer: Customer
INFO:asc606.step_analyzer:‚úì De-identification complete: vendor 'Company' ‚Üí 'the Company' (5 occurrences), customer 'Customer' ‚Üí 'the Customer' (9 occurrences)
INFO:shared.preflight_pricing:Allowance check PASSED for org 3: 469 words needed, 5,057 available, 4,588 remaining after, segment=trial
INFO:__main__:üîç Checking for memo: analysis_key=asc606_analysis_complete_c4af19f5-08d6-4f38-88d4-74849e697749, has_analysis_key=False, has_memo_key=False
INFO:utils.document_extractor:üìÑ Processing document: gemini_sow - Copy.docx (0.02 MB)
INFO:utils.document_extractor:‚Üí Extracting text using DOCX extractor...
INFO:__main__:üîç Page load - session_id: c4af19f5-08d6-4f38-88d4-74849e697749, session keys: ['asc606_cached_word_count_c4af19f5-08d6-4f38-88d4-74849e697749', 'auth_token', 'skip_auto_load', 'deidentified_preview', 'file_uploader_key', 'asc606_uploader_0', 'asc606_failed_files_c4af19f5-08d6-4f38-88d4-74849e697749', 'asc606_cached_deidentify_c4af19f5-08d6-4f38-88d4-74849e697749', 'asc606_cached_text_c4af19f5-08d6-4f38-88d4-74849e697749', 'api_cost_tracker', 'asc606_analyze', 'show_whats_new', 'user_data', 'asc606_privacy_hash_c4af19f5-08d6-4f38-88d4-74849e697749', 'user_session_id']
INFO:utils.document_extractor:‚úì Text extracted: 515 words (~2 pages) via python-docx
INFO:shared.preflight_pricing:Allowance check PASSED for org 3: 469 words needed, 5,057 available, 4,588 remaining after, segment=trial
INFO:shared.job_progress_monitor:Job 73 status: JobStatus.QUEUED
INFO:asc606.job_analysis_runner:Job submitted: 73
INFO:shared.api_cost_tracker:API cost tracker reset
INFO:shared.analysis_manager:ANALYSIS_EVENT: {"event_type": "start", "timestamp": "2025-11-10T02:56:48.068863", "analysis_id": "d9b2574b", "asc_standard": "ASC 606", "total_words": 469, "file_count": 1, "tier": null, "cost": 0.0, "user_id": 15, "status": "running", "success": null, "duration": null, "error": null}
INFO:asc606.job_analysis_runner:‚úì Analysis record created with database ID: 73
INFO:shared.job_manager:‚úì Job submitted for ASC 606: 73 (analysis 73)
INFO:shared.analysis_manager:Started analysis d9b2574b: ASC 606 - 469 words
INFO:asc606.job_analysis_runner:‚úì Started analysis tracking: UI ID=d9b2574b, DB ID=73, Job ID=73
INFO:shared.job_progress_monitor:Job 73 status: JobStatus.STARTED
INFO:shared.job_progress_monitor:üìå Resume polling: ASC=ASC 606, job_id=73, db_analysis_id=73
INFO:shared.job_progress_monitor:Job 73 status: JobStatus.STARTED
INFO:shared.job_progress_monitor:üìå Resume polling: ASC=ASC 606, job_id=73, db_analysis_id=73
INFO:shared.job_progress_monitor:Job 73 status: JobStatus.STARTED
INFO:shared.job_progress_monitor:Job 73 status: JobStatus.STARTED
INFO:shared.job_progress_monitor:üìå Resume polling: ASC=ASC 606, job_id=73, db_analysis_id=73
INFO:shared.job_progress_monitor:Job 73 status: JobStatus.STARTED
INFO:shared.job_progress_monitor:Job 73 status: JobStatus.STARTED
INFO:shared.job_progress_monitor:Job 73 status: JobStatus.STARTED
INFO:shared.job_progress_monitor:‚úì Marked analysis d9b2574b as complete
INFO:shared.job_progress_monitor:Job 73 status: JobStatus.FINISHED
INFO:shared.job_progress_monitor:‚úì Status API response: status=completed, has_memo=True
INFO:shared.job_progress_monitor:‚úì Storing memo in session state: session_id=c4af19f5-08d6-4f38-88d4-74849e697749, analysis_key=asc606_analysis_complete_c4af19f5-08d6-4f38-88d4-74849e697749
INFO:shared.job_progress_monitor:‚úì Session state stored. Keys in session: ['active_analysis', 'asc606_cached_word_count_c4af19f5-08d6-4f38-88d4-74849e697749', 'auth_token', 'skip_auto_load', 'file_uploader_key', 'user_session_id', 'asc606_failed_files_c4af19f5-08d6-4f38-88d4-74849e697749', 'asc606_cached_deidentify_c4af19f5-08d6-4f38-88d4-74849e697749', 'current_ui_analysis_id', 'asc606_cached_text_c4af19f5-08d6-4f38-88d4-74849e697749', 'asc606_analysis_complete_c4af19f5-08d6-4f38-88d4-74849e697749', 'asc606_memo_data_c4af19f5-08d6-4f38-88d4-74849e697749', 'api_cost_tracker', 'show_whats_new', 'user_data', 'asc606_privacy_hash_c4af19f5-08d6-4f38-88d4-74849e697749', 'current_db_analysis_id']
INFO:shared.analysis_manager:üíæ Saving analysis record: d9b2574b
INFO:shared.analysis_manager:Current auth token is valid
INFO:shared.analysis_manager:‚úì Analysis saved to database: d9b2574b
INFO:shared.analysis_manager:ANALYSIS_EVENT: {"event_type": "complete", "timestamp": "2025-11-10T02:57:59.810418", "analysis_id": "d9b2574b", "asc_standard": "ASC 606", "total_words": 469, "file_count": 1, "tier": null, "cost": 0.0, "user_id": 15, "status": "completed", "success": true, "duration": 71.49635100364685, "error": null}
INFO:shared.analysis_manager:Completed analysis d9b2574b: success - 71.5s
INFO:__main__:üîç Page load - session_id: c4af19f5-08d6-4f38-88d4-74849e697749, session keys: ['asc606_cached_word_count_c4af19f5-08d6-4f38-88d4-74849e697749', 'auth_token', 'analysis_manager_memo_uuid', 'skip_auto_load', 'file_uploader_key', 'asc606_failed_files_c4af19f5-08d6-4f38-88d4-74849e697749', 'asc606_cached_deidentify_c4af19f5-08d6-4f38-88d4-74849e697749', 'asc606_cached_text_c4af19f5-08d6-4f38-88d4-74849e697749', 'asc606_analysis_complete_c4af19f5-08d6-4f38-88d4-74849e697749', 'asc606_memo_data_c4af19f5-08d6-4f38-88d4-74849e697749', 'api_cost_tracker', 'show_whats_new', 'user_data', 'analysis_history', 'asc606_privacy_hash_c4af19f5-08d6-4f38-88d4-74849e697749', 'user_session_id']
INFO:__main__:üîç Checking for memo: analysis_key=asc606_analysis_complete_c4af19f5-08d6-4f38-88d4-74849e697749, has_analysis_key=True, has_memo_key=True
INFO:asc606.clean_memo_generator:Displaying clean memo sample: '**MEMO ID:** 73\n\n<small><em>Disclaimer Version: v1.0 (Effective 08/23/2025)</em></small><br>\n<small><em>This memorandum was generated by VeritasLogic.'
INFO:asc606.clean_memo_generator:Generating PDF using ReportLab
INFO:shared.pdf_generator:Generating PDF using ReportLab
INFO:shared.pdf_generator:PDF generation successful: 23441 bytes
INFO:asc606.clean_memo_generator:PDF generation successful: 23441 bytes
INFO:utils.document_extractor:üìÑ Processing document: Plan B - exp.docx (0.02 MB)
INFO:utils.document_extractor:‚Üí Extracting text using DOCX extractor...
INFO:utils.document_extractor:‚úì Text extracted: 438 words (~1 pages) via python-docx
INFO:utils.document_extractor:üìÑ Processing document: Plan B - exp.docx (0.02 MB)
INFO:utils.document_extractor:‚Üí Extracting text using DOCX extractor...
INFO:utils.document_extractor:‚úì Text extracted: 438 words (~1 pages) via python-docx
INFO:asc340.step_analyzer:ü§ñ Using GPT-4o for main analysis, GPT-4o-mini for light tasks
INFO:asc340.step_analyzer:üîí Extracting party names for de-identification...
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
WARNING:shared.api_cost_tracker:Failed to get encoding for model gpt-4o-mini, using default: 'Could not automatically map gpt-4o-mini to a tokeniser. Please use `tiktok.get_encoding` to explicitly get the tokeniser you expect.'
WARNING:shared.api_cost_tracker:Failed to get encoding for model gpt-4o-mini, using default: 'Could not automatically map gpt-4o-mini to a tokeniser. Please use `tiktok.get_encoding` to explicitly get the tokeniser you expect.'
INFO:shared.api_cost_tracker:API Cost - Model: gpt-4o-mini, Input tokens: 845, Output tokens: 33, Cost: $0.0001
INFO:shared.api_cost_tracker:Tracked party_extraction request: $0.0001 (Total: $0.0001)
INFO:asc340.step_analyzer:Raw LLM response for party extraction: {"company": "Old Start Inc.", "counterparty": "Business Development Representatives (BDRs), Field Marketing Managers", "counterparty_type": "employee"}
INFO:asc340.step_analyzer:‚úì Parties extracted - Company: Old Start Inc., Counterparty: Business Development Representatives (BDRs), Field Marketing Managers (employee)
INFO:asc340.step_analyzer:‚úì De-identification complete: company 'Old Start Inc.' ‚Üí 'the Company' (1 occurrences), counterparty 'Business Development Representatives (BDRs), Field Marketing Managers' ‚Üí 'the Employee' (1 occurrences)
INFO:shared.preflight_pricing:Allowance check PASSED for org 3: 419 words needed, 4,119 available, 3,700 remaining after, segment=trial
INFO:utils.document_extractor:üìÑ Processing document: Plan B - exp.docx (0.02 MB)
INFO:utils.document_extractor:‚Üí Extracting text using DOCX extractor...
INFO:utils.document_extractor:‚úì Text extracted: 438 words (~1 pages) via python-docx
INFO:shared.preflight_pricing:Allowance check PASSED for org 3: 419 words needed, 4,119 available, 3,700 remaining after, segment=trial
INFO:asc340.job_analysis_runner:‚úì Analysis record created with database ID: 75
INFO:shared.job_manager:‚úì Job submitted for ASC 340-40: 75 (analysis 75)
INFO:asc340.job_analysis_runner:Job submitted: 75
INFO:shared.api_cost_tracker:API cost tracker reset
INFO:shared.analysis_manager:ANALYSIS_EVENT: {"event_type": "start", "timestamp": "2025-11-10T02:58:27.988984", "analysis_id": "b19614da", "asc_standard": "ASC 340-40", "total_words": 419, "file_count": 1, "tier": null, "cost": 0.0, "user_id": 15, "status": "running", "success": null, "duration": null, "error": null}
INFO:shared.analysis_manager:Started analysis b19614da: ASC 340-40 - 419 words
INFO:asc340.job_analysis_runner:‚úì Started analysis tracking: UI ID=b19614da, DB ID=75, Job ID=75
INFO:shared.job_progress_monitor:Job 75 status: JobStatus.QUEUED
INFO:shared.job_progress_monitor:Job 75 status: JobStatus.STARTED
INFO:shared.job_progress_monitor:üìå Resume polling: ASC=ASC 340-40, job_id=75, db_analysis_id=75
INFO:shared.job_progress_monitor:Job 75 status: JobStatus.STARTED
INFO:shared.job_progress_monitor:üìå Resume polling: ASC=ASC 340-40, job_id=75, db_analysis_id=75
INFO:shared.job_progress_monitor:Job 75 status: JobStatus.STARTED
INFO:shared.job_progress_monitor:Job 75 status: JobStatus.STARTED